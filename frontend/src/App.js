// App.js
import React, { useEffect, useState } from 'react';
import ButtonPanel from './ButtonPanel';
import FlowChart from './FlowChart';
import './App.css';
import '@xyflow/react/dist/style.css';
import './style.css';
const imageMap = {
  Junction: { url: 'data:image/png;base64,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', alt: 'Description of Image 1' },
  Pipe: { url: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAgVBMVEX///9RUU/T1NZJSUfNztCBgYFZWVdkZGJOTkzFxsjIyctMTElEREKpq6q+v8FAQEAzMzOPj41tbW2dn56ztLaXmZh5eXmmqKf5+fl0dHJfX123ubiusK/Hx8XAwsHm5uaKioo7Ozt4eHfl5eU4OTVcXVlGR0PZ2dxoaWVUVVCbnJ7quFLGAAADNUlEQVR4nO3d23KqMABG4SIGVBAVQeVQq3bXTX3/B9wBtdb+u4crmA7r612vMmtCmsJM8vAAAAAAAAAAAAAAfG1z9dnv3+tkhK3b5IGTxwezSJfTZDueDAfDybYop+tlujMmi33PcV03DGez/X6+6nq07dj4jufHh93itC6L7eNwYJuMo6K0TRY7c8iq3HOcURC47jHcm65H246mSbbapV82GQX1XKEJTWhyQxNFE0UTtamC+yZ/B8O6yXR5sk1WWWU3KOc/xmE433U92pY8G9fL/ThbGbNbLNL0lNoJYrdrqyyOfd/OkpHbbNrsri196nqwbXkM66fHBlnamVJE43GUJNPLoxM3Uc5VZrPeJHl4tPOk3sgu3xaU23rS7O3rR6enTd4W2dsae1lORjShCU3+gyaKJoomiiaKJoomiiaKJurnTZ67Hmprftok7NE8efJG3vf/F4fhPO7JZ8DawJg4XtVfAtdlmURRUl5en9TT5PLJ6+jFpj/TpGEC7yX3qzjOsrh+vea/vHivjk1x9afseoitW8QmXZbJuH4dO2meHLuYNM/NZSmZ97LJYjlNovoT+jhKpvbRMTShyUc0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFE0UTRRNFHfNJn1tAnnPX5ggtf6XNCqORe0qi7ngjZ3zLjh0f707VzQ5vzYw/n82KR4d37sIbvcv2PnSr/Oj/3+nOFR784Z5jxqxbnlivPtFU0UTRRNFE0UTRRNFE0UTRRNFE0U99KqyfX+4nqiFNtxc8v1/f3FQc/uL7675zpNT6dT7++5/vl96G5v7kPf+M59k8HwtsaaQ1blt5dKe9P1aNtBE0UTRRNFE0UT1TS529p/1uTYnyZ54OTNV8D11DapP6JPoqKoN7J249ZsT4Lzlm2/n6+6Hm1LNlef/f69TkYIAAAAAAAAAACA3+QffhAq8FbTp4cAAAAASUVORK5CYII=', alt: 'Description of Image 2' },
  Pump:{url:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTGQFAo8qcEqCxVnFsFHOEaLA74Qg2m3nU5cR3ypKXX4Df5sC-zJFLPGm_lFb7aXJC-LmI&usqp=CAU', alt: 'Description of Image 3' },
  Sink:{url:'data:image/png;base64,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', alt: 'Description of Image 4' },

};

function App() {
  const [nodes, setNodes] = useState([]);
  const [nodeCounts, setNodeCounts] = useState({});
  const [edges, setEdges] = useState([]);
  const [nodeDetails, setNodeDetails] = useState({}); // New state for node details

  console.log('nodes', nodes);
  const addNode = (label, imageAlt) => {
    setNodes((nds) => {
      const count = nodeCounts[label] ? nodeCounts[label] + 1 : 1;
      const image = imageMap[label] || {url:"data:image/png;base64,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", alt: imageAlt};
      const newNode = {
        id: `${label} ${count}`,
        type: 'custom', // Specify the custom node type
        data: { 
          label: `${label} ${count}`, 
          index: nds.length + 1,
          image: image
        },
        position: { x: Math.random() * 500, y: Math.random() * 500 },
      };
      return [...nds, newNode];
    });
    setNodeCounts((prevCounts) => ({
      ...prevCounts,
      [label]: (prevCounts[label] || 0) + 1,
    }));
  };

    // New function to update node details
  const updateNodeDetails = (id, details) => {
    setNodeDetails((prevDetails) => ({
      ...prevDetails,
      [id]: details,
    }));
  };
  console.log("nodeDetails",nodeDetails);
  useEffect(() => {
  }, [nodes]);

  console.log(nodes);

  return (
    <div className="App">
      <header className="App-header">
        <h1>MOSTCOOL Reliability</h1>  
      </header>
      <div className="App-body">
      <ButtonPanel addNode={addNode} edges={edges} nodeDetails={nodeDetails} setNodes={setNodes} setEdges={setEdges} nodes={nodes}       setNodeDetails={setNodeDetails} />
      <FlowChart nodes={nodes} setNodes={setNodes} setEdges={setEdges} edges={edges} updateNodeDetails={updateNodeDetails} />
      </div>  
    </div>
  );
}

export default App;