<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
<title>Results - MOSTCOOL</title>
</head>
<body>
  <div class="d-flex flex-column sidebar p-4">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
      <span class="fs-4">MOSTCOOL</span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="/simulation-setup" class="nav-link text-white">
          Simulation Setup
        </a>
      </li>
      <li class="nav-item">
        <a href="/simulation" class="nav-link text-white">Simulation</a>
      </li>
      <li class="nav-item">
        <a href="/results" class="nav-link text-white active">
          Results
        </a>
      </li>
    </ul>
    <hr>
  </div>
  <main class="flex-fill p-0 main-content">
    <div class="pt-3 pb-2 container">
      <h2>Simulation Results</h2>
      <div class="card-container">
        <div class="card" style="background-image: url('{{ url_for('static', filename='images/card_backgrounds/server_visualization.jpg') }}');">
          <a href="#" onclick="runCommand('server_thermal_profiles')">
            <div class="card-overlay">
              <h2 class="text-center">Server Thermal Profiles</h2>
            </div>
          </a>
        </div>
        <div class="card" style="background-image: url('{{ url_for('static', filename='images/card_backgrounds/datacenter_visualization.png') }}');">
          <a href="/results/datacenter_visualization">
            <div class="card-overlay">
              <h2 class="text-center">Data Center Thermal Profiles</h2>
            </div>
          </a>
        </div>
        <div class="card" style="background-image: url('{{ url_for('static', filename='images/card_backgrounds/building_energy.jpg') }}');">
          <a href="/results/building_energy">
            <div class="card-overlay">
              <h2 class="text-center">Building Energy Plots</h2>
            </div>
          </a>
        </div>
      </div>
    </div>
  </main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/custom.js') }}"></script>
<script>
function runCommand(command) {
  fetch('/run-command', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ command: command })
  })
  .then(response => response.json())
  .then(data => {
    if (data.status === 'success' || data.status === 'warning') {
      console.log('Command executed with status:', data.status);
      setTimeout(() => {
        window.open('http://0.0.0.0:1234', '_blank');
      }, 3000); // Wait for 3 seconds before opening the webpage
    } else {
      console.error('Command execution failed:', data.error);
    }
  })
  .catch(error => {
    console.error('Error:', error);
  });
}
</script>
</body>
</html>
